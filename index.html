<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HikarinVN Library Debug</title>
    <style>
        body { background: #333; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; }
        /* The container for the VN */
        #test-container {
            width: 1024px; aspect-ratio: 16/9; background: #000; box-shadow: 0 0 20px black;
        }
    </style>
</head>
<body>

    <div id="test-container"></div>

    <script type="module">
        // Import directly from source for hot-reloading debug
        import HikarinVN from './src/index.js';

        // 1. PASTE YOUR HUGE JSON SCRIPT HERE 
        const TEST_SCRIPT = [
    {
        "type": "meta",
        "action": "start",
        "id": 0
    },
    {
        "type": "label",
        "action": "label",
        "label": "prologue",
        "id": 1
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "It was a regular day in the world of minecraft",
        "id": 2
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "Birds are singing, flowers are blooming...",
        "id": 3
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "On days like these...",
        "id": 4
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr_arrival1.png",
        "location": "images/andr_arrival1.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 5
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "?",
        "id": 6
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr_arrival2.png",
        "location": "images/andr_arrival2.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 7
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "??",
        "id": 8
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr_arrival3.png",
        "location": "images/andr_arrival3.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 9
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "???",
        "id": 10
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr_arrival4.png",
        "location": "images/andr_arrival4.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 11
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "!!??!?!",
        "id": 12
    },
    {
        "type": "remove_sprite",
        "action": "remove",
        "sprite": "andr_arrival4.png",
        "id": 13
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr_arrival5.png",
        "location": "images/andr_arrival5.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 14
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "You're... You're the player... aren't you???",
        "id": 15
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Help... me...",
        "id": 16
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "The strange woman who appeared out of thin air, dropped unconscious before you...",
        "id": 17
    },
    {
        "type": "next",
        "action": "next",
        "label": "chapter1",
        "id": 18
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 19
    },
    {
        "type": "meta",
        "action": "start",
        "id": 20
    },
    {
        "type": "label",
        "action": "label",
        "label": "chapter1",
        "id": 21
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "After some moment, the strange woman finally woke up.",
        "id": 22
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/tired.png",
        "dyn_location": "characters/andr/default/tired.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 23
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Ah... My apologies... that was... uncouth of me...",
        "id": 24
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Are you... the player?",
        "id": 25
    },
    {
        "type": "choice",
        "action": "choice",
        "choice": [
            {
                "label": "c1iamplayer",
                "display": "Yes, yes I am"
            },
            {
                "label": "c1whatifiam",
                "display": "What if I am?"
            }
        ],
        "id": 26
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1iamplayer",
        "id": 27
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 28
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Ah, nice to meet you player, my name is Andr",
        "id": 29
    },
    {
        "type": "transition",
        "action": "jump",
        "label": "c1burden",
        "id": 30
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1whatifiam",
        "id": 31
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/scared.png",
        "dyn_location": "characters/andr/default/scared.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 32
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "D-did I offend you? I'm sorry...I mean no harm, truly...",
        "id": 33
    },
    {
        "type": "transition",
        "action": "jump",
        "label": "c1burden",
        "id": 34
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1burden",
        "id": 35
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/sad.png",
        "dyn_location": "characters/andr/default/sad.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 36
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "You see... I...",
        "id": 37
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Ne-nevermind...",
        "id": 38
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "It's not your burden to carry...",
        "id": 39
    },
    {
        "type": "next",
        "action": "next",
        "label": "c1purpose",
        "id": 40
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 41
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1purpose",
        "id": 42
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/sad.png",
        "dyn_location": "characters/andr/default/sad.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 43
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Right, sorry, I should leave...",
        "id": 44
    },
    {
        "type": "choice",
        "action": "choice",
        "choice": [
            {
                "label": "c1wait",
                "display": "Wait!"
            },
            {
                "label": "c1stop",
                "display": "STOP!"
            }
        ],
        "id": 45
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1stop",
        "id": 46
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/scared.png",
        "dyn_location": "characters/andr/default/scared.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 47
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Wh-what?",
        "id": 48
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I... I am truly sorry for making you mad but...",
        "id": 49
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 50
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "But... al-alright... I bothered you, it would be rude if I just leave...",
        "id": 51
    },
    {
        "type": "next",
        "action": "next",
        "label": "c1offertohelp",
        "id": 52
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 53
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1wait",
        "id": 54
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/scared.png",
        "dyn_location": "characters/andr/default/scared.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 55
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "W-wait?",
        "id": 56
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 57
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "D-do you have something to say?",
        "id": 58
    },
    {
        "type": "next",
        "action": "next",
        "label": "c1offertohelp",
        "id": 59
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 60
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 61
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1offertohelp",
        "id": 62
    },
    {
        "type": "choice",
        "action": "choice",
        "choice": [
            {
                "label": "c1letmehelp",
                "display": "Let me help you"
            },
            {
                "label": "c1whatproblem",
                "display": "What's your problem?"
            }
        ],
        "id": 63
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1letmehelp",
        "id": 64
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/scared.png",
        "dyn_location": "characters/andr/default/scared.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 65
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "You want to help me!?",
        "id": 66
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 67
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "But... I don't have anything to offer you... are you sure?",
        "id": 68
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I... don't want to bother you anymore...",
        "id": 69
    },
    {
        "type": "label",
        "action": "label",
        "label": "c1whatproblem",
        "id": 70
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/tired.png",
        "dyn_location": "characters/andr/default/tired.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 71
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I know that you're curious about... my problem... and...",
        "id": 72
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "And I should let you know... But...",
        "id": 73
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/sad.png",
        "dyn_location": "characters/andr/default/sad.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 74
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "But I'm tired... and I don't want to talk about it... Maybe tomorrow? Please don't force me...",
        "id": 75
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 76
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I don't mind if you'd like to talk about something else...",
        "id": 77
    },
    {
        "type": "next",
        "action": "next",
        "label": "chapter2",
        "id": 78
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 79
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 80
    },
    {
        "type": "meta",
        "action": "start",
        "id": 81
    },
    {
        "type": "label",
        "action": "label",
        "label": "chapter2",
        "id": 82
    },
    {
        "type": "conditional",
        "action": "conditional",
        "var": "isDay",
        "condition": "equal",
        "value": true,
        "actions": [
            {
                "type": "idle_chat",
                "action": "idle_chat",
                "id": 84
            },
            {
                "type": "finish_dialogue",
                "action": "finish_dialogue",
                "id": 85
            }
        ],
        "id": 83,
        "end": 86
    },
    {
        "type": "idle_chat",
        "action": "idle_chat",
        "id": 84
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 85
    },
    {
        "type": "choice",
        "action": "choice",
        "choice": [
            {
                "label": "andr1stnight",
                "display": "Progress Story"
            },
            {
                "label": "andrtalk",
                "display": "Talk"
            }
        ],
        "id": 86
    },
    {
        "type": "label",
        "action": "label",
        "label": "andrtalk",
        "id": 87
    },
    {
        "type": "idle_chat",
        "action": "idle_chat",
        "id": 88
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 89
    },
    {
        "type": "label",
        "action": "label",
        "label": "andr1stnight",
        "id": 90
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/normal.png",
        "dyn_location": "characters/andr/default/normal.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 91
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Oh, player, good evening...",
        "id": 92
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Thank you for letting me stay in your place",
        "id": 93
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 94
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "And I apologize if you see me as... freeloading...",
        "id": 95
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I will make it up to you somehow...",
        "id": 96
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/normal.png",
        "dyn_location": "characters/andr/default/normal.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 97
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Ah actually...",
        "id": 98
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "We should go somewhere more comfortable...",
        "id": 99
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "teleport.png",
        "location": "images/teleport.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 100
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "A sense of vertigo washes over you...",
        "id": 101
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr1stnight1.png",
        "location": "images/andr1stnight1.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 102
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "You found yourself in a vast clearing in the middle of the night.",
        "id": 103
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "It's silent, peacefully so, you cannot hear monsters that usually lurks in the dark.",
        "id": 104
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Fear not, this is a safe place...",
        "id": 105
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr1stnight2.png",
        "location": "images/andr1stnight2.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 106
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Truthfully, I want to tell you about my problem... There's a lot that I... That I really shouldn't put in my chest.",
        "id": 107
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "But to trust someone with something so important... You have to understand it's... it takes time, okay?",
        "id": 108
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr1stnight3.png",
        "location": "images/andr1stnight3.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 109
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "Andr stepped closer towards you...",
        "id": 110
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "You can feel her hand, holding yours, it felt soft, gentle, and cold.",
        "id": 111
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "You feel her other hand putting something on to your hand. It felt like glass, marbles...",
        "id": 112
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr1stnight4.png",
        "location": "images/andr1stnight4.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 113
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "It's not much... but... it's the least I can do to thank you",
        "id": 114
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Thank you, player, truly...",
        "id": 115
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Tomorrow, I promise, I will tell you everything...",
        "id": 116
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "teleport.png",
        "location": "images/teleport.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 117
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Narrator",
        "content": "A sense of vertigo washes over you...",
        "id": 118
    },
    {
        "type": "next",
        "action": "next",
        "label": "chapter3",
        "id": 119
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 120
    },
    {
        "type": "meta",
        "action": "start",
        "id": 121
    },
    {
        "type": "label",
        "action": "label",
        "label": "chapter3",
        "id": 122
    },
    {
        "type": "conditional",
        "action": "conditional",
        "var": "isNight",
        "condition": "equal",
        "value": true,
        "actions": [
            {
                "type": "idle_chat",
                "action": "idle_chat",
                "id": 124
            }
        ],
        "id": 123,
        "end": 125
    },
    {
        "type": "idle_chat",
        "action": "idle_chat",
        "id": 124
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/normal.png",
        "dyn_location": "characters/andr/default/normal.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 125
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Good morning player",
        "id": 126
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Did you sleep well?",
        "id": 127
    },
    {
        "type": "choice",
        "action": "choice",
        "choice": [
            {
                "label": "c3sleepwell",
                "display": "Yes"
            },
            {
                "label": "c3sleepnotwell",
                "display": "No"
            }
        ],
        "id": 128
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 129
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3sleepwell",
        "id": 130
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Mm, I'm glad to hear that",
        "id": 131
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "At least one of us slept well last night...",
        "id": 132
    },
    {
        "type": "transition",
        "action": "jump",
        "label": "c3history",
        "id": 133
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3sleepnotwell",
        "id": 134
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Me too...",
        "id": 135
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3history",
        "id": 136
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/tired.png",
        "dyn_location": "characters/andr/default/tired.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 137
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I suppose I owe you an explanation",
        "id": 138
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 139
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Well... it's a long story...",
        "id": 140
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "black.png",
        "location": "images/black.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 141
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Long ago there were people like you, the builders...",
        "id": 142
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history1.png",
        "location": "images/history1.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 143
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Ancient civilizations that have created grand structures and monuments...",
        "id": 144
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "You may see traces of their creations. The mineshafts, the temples, the monuments, and yes even the strongholds and the fortress...",
        "id": 145
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "One day, however, they began to experiment.",
        "id": 146
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history2.png",
        "location": "images/history2.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 147
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "These builders have conquered the land above and the land below, now they are desperate to conquer something more...",
        "id": 148
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Life And Death",
        "id": 149
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "They experimented with the souls of those trapped deep underground and the husks that  roam the deep.",
        "id": 150
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history3.png",
        "location": "images/history3.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 151
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "They created a calamity known as the Wither Storm",
        "id": 152
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history4.png",
        "location": "images/history4.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 153
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "They tried desperately to fight back, but they lack the power to defeat the Wither Storm",
        "id": 154
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history5.png",
        "location": "images/history5.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 155
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Some fled, into the End. Where they encounter the Ender Dragon, they didn't fight it, as they find the Ender Dragon a great deterrent for the Wither Storm.",
        "id": 156
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "And despite everything, deep within 'The End', the builders are still obsessed with Life and Death.",
        "id": 157
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history6.png",
        "location": "images/history6.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 158
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Deep in The End they taught themselves magic, enchanting their tools, themselves... Becoming less and less human.",
        "id": 159
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "You've seen what they've become. The Endermen.",
        "id": 160
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "However, some of those experiment are different, they are not physical, but rebirth...",
        "id": 161
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Their war is not over so they try to find ways to fight back...",
        "id": 162
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history7.png",
        "location": "images/history7.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 163
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "They unlocked the key of rebirth and woke up their own, who is already dead, scattered across the world.",
        "id": 164
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "The Zombies, The Skeletons, The Creepers, and even Endermen...",
        "id": 165
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "They band together, under the will of The Builders to fight and take down the Wither Storm.",
        "id": 166
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history8.png",
        "location": "images/history8.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 167
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "However, fighting the Wither Storm is not easy... They need people, with conscious mind, a human, to lead the army...",
        "id": 168
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "That's where I come from. That's why I look so... Human, compared to my mob counterpart. We are humans, players, just like you...",
        "id": 169
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history9.png",
        "location": "images/history9.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 170
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "We are born as a queen, centuries ago, with the purpose of defeating the Wither Storm.",
        "id": 171
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "There's me, the Queen of Endermen. There's others like me, such as Cupa who ruled over the Creepers, Silk and Ari who ruled over the Spiders, and more...",
        "id": 172
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "history10.png",
        "location": "images/history10.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 173
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "We waged war against the Wither Storm",
        "id": 174
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Until finally, we are victorious... We defeated the Wither Storm and ruled the world of minecraft...",
        "id": 175
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "black.png",
        "location": "images/black.png",
        "position": "CUSTOM",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 16,
        "hFrameRatio": 9,
        "column": 1,
        "row": 1,
        "id": 176
    },
    {
        "type": "next",
        "action": "next",
        "label": "c3andrproblem",
        "id": 177
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 178
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3andrproblem",
        "id": 179
    },
    {
        "type": "choice",
        "action": "choice",
        "choice": [
            {
                "label": "c3whatproblem",
                "display": "So what's the problem?"
            },
            {
                "label": "c3witherstorm",
                "display": "Is the Wither Storm returning?"
            }
        ],
        "id": 180
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3whatproblem",
        "id": 181
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/normal.png",
        "dyn_location": "characters/andr/default/normal.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 182
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Ah right, the problem...",
        "id": 183
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 184
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "The problem is that, well, you guessed it...",
        "id": 185
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3witherstorm",
        "id": 186
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/normal.png",
        "dyn_location": "characters/andr/default/normal.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 187
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Indeed, the Wither Storm is returning.",
        "id": 188
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/shy.png",
        "dyn_location": "characters/andr/default/shy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 189
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "But after hundreds of years, we've been... Left on our own devices, scattered and...",
        "id": 190
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I... I find it too awkward to rally everyone together to prepare our fight against the Wither Storm...",
        "id": 191
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "I... I'm sorry... But no one knows that the Wither Storm is coming because... I'm too afraid to tell anyone...",
        "id": 192
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "And after so long since we talked, I don't think anyone remembers me, or if they would believe me...",
        "id": 193
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "And that's what I need your help with... help me... talk... Because I'm too socially awkward to tell everyone about the upcoming apocalypse...",
        "id": 194
    },
    {
        "type": "choice",
        "action": "choice",
        "choice": [
            {
                "label": "c3iwillhelp",
                "display": "Sure I will help you"
            },
            {
                "label": "c3whatdoiget",
                "display": "What's in it for me?"
            }
        ],
        "id": 195
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3iwillhelp",
        "id": 196
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/normal.png",
        "dyn_location": "characters/andr/default/normal.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 197
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "You will help me?!",
        "id": 198
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/happy.png",
        "dyn_location": "characters/andr/default/happy.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 199
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Thank you so much! I promise I will make it up to you somehow!!! You will not regret helping.",
        "id": 200
    },
    {
        "type": "label",
        "action": "label",
        "label": "c3whatdoiget",
        "id": 201
    },
    {
        "type": "show_sprite",
        "action": "show",
        "sprite": "andr",
        "location": "characters/andr/default/normal.png",
        "dyn_location": "characters/andr/default/normal.png",
        "position": "CENTER",
        "wRatio": 16,
        "hRatio": 9,
        "wFrameRatio": 4,
        "hFrameRatio": 8,
        "column": 7,
        "row": 1,
        "id": 202
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "Well I mean, for one, you don't have to worry about the world ending",
        "id": 203
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "But I will also do everything in my power to make sure that it's worth it for you.",
        "id": 204
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "For now, I don't wish to take up anymore of your time, we'll continue our conversation tonight.",
        "id": 205
    },
    {
        "type": "dialogue",
        "action": "say",
        "label": "Andr",
        "content": "We'll discuss on the first mob queen we should look for.",
        "id": 206
    },
    {
        "type": "next",
        "action": "next",
        "label": "chapter4",
        "id": 207
    },
    {
        "type": "finish_dialogue",
        "action": "finish_dialogue",
        "id": 208
    },
    {
        "type": "meta",
        "action": "start",
        "id": 209
    },
    {
        "type": "label",
        "action": "label",
        "label": "chapter4",
        "id": 210
    }
]



        const vn = new HikarinVN('test-container', TEST_SCRIPT, {
            assetsPath: "", // Set this if your images are in a public folder
            debug: true,    // This turns on the bottom panel and colored logs
            globals: { "player": "Debugger" }
        });

        // 3. Start
        vn.start();
    </script>
</body>
</html>